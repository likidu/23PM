var Query=function(t){"use strict";class e{constructor(){this.listeners=[]}subscribe(t){const e=t||(()=>{});return this.listeners.push(e),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(t=>t!==e),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const s="undefined"==typeof window;function i(){}function n(t){return"number"==typeof t&&t>=0&&t!==1/0}function r(t){return Array.isArray(t)?t:[t]}function o(t,e){return t.filter(t=>-1===e.indexOf(t))}function u(t,e){return Math.max(t+(e||0)-Date.now(),0)}function a(t,e,s){return m(t)?"function"==typeof e?Object.assign(Object.assign({},s),{queryKey:t,queryFn:e}):Object.assign(Object.assign({},e),{queryKey:t}):t}function c(t,e,s){return m(t)?"function"==typeof e?Object.assign(Object.assign({},s),{mutationKey:t,mutationFn:e}):Object.assign(Object.assign({},e),{mutationKey:t}):"function"==typeof t?Object.assign(Object.assign({},e),{mutationFn:t}):Object.assign({},t)}function l(t,e,s){return m(t)?[Object.assign(Object.assign({},e),{queryKey:t}),s]:[t||{},e]}function h(t,e){const{active:s,exact:i,fetching:n,inactive:r,predicate:o,queryKey:u,stale:a}=t;if(m(u))if(i){if(e.queryHash!==f(u,e.options))return!1}else if(!y(e.queryKey,u))return!1;const c=function(t,e){return!0===t&&!0===e||null==t&&null==e?"all":!1===t&&!1===e?"none":(null!=t?t:!e)?"active":"inactive"}(s,r);if("none"===c)return!1;if("all"!==c){const t=e.isActive();if("active"===c&&!t)return!1;if("inactive"===c&&t)return!1}return("boolean"!=typeof a||e.isStale()===a)&&(("boolean"!=typeof n||e.isFetching()===n)&&!(o&&!o(e)))}function d(t,e){const{exact:s,fetching:i,predicate:n,mutationKey:r}=t;if(m(r)){if(!e.options.mutationKey)return!1;if(s){if(p(e.options.mutationKey)!==p(r))return!1}else if(!y(e.options.mutationKey,r))return!1}return("boolean"!=typeof i||"loading"===e.state.status===i)&&!(n&&!n(e))}function f(t,e){return((null==e?void 0:e.queryKeyHashFn)||p)(t)}function p(t){const e=r(t);return s=e,JSON.stringify(s,(t,e)=>b(e)?Object.keys(e).sort().reduce((t,s)=>(t[s]=e[s],t),{}):e);var s}function y(t,e){return function t(e,s){if(e===s)return!0;if(typeof e!=typeof s)return!1;if(e&&s&&"object"==typeof e&&"object"==typeof s)return!Object.keys(s).some(i=>!t(e[i],s[i]));return!1}(r(t),r(e))}function v(t,e){if(t===e)return t;const s=Array.isArray(t)&&Array.isArray(e);if(s||b(t)&&b(e)){const i=s?t.length:Object.keys(t).length,n=s?e:Object.keys(e),r=n.length,o=s?[]:{};let u=0;for(let i=0;i<r;i++){const r=s?i:n[i];o[r]=v(t[r],e[r]),o[r]===t[r]&&u++}return i===r&&u===i?t:o}return e}function b(t){if(!g(t))return!1;const e=t.constructor;if(void 0===e)return!0;const s=e.prototype;return!!g(s)&&!!s.hasOwnProperty("isPrototypeOf")}function g(t){return"[object Object]"===Object.prototype.toString.call(t)}function m(t){return"string"==typeof t||Array.isArray(t)}function O(t){Promise.resolve().then(t).catch(t=>setTimeout(()=>{throw t}))}function q(){if("function"==typeof AbortController)return new AbortController}const C=new class extends e{constructor(){super(),this.setup=t=>{if(!s&&(null===window||void 0===window?void 0:window.addEventListener)){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),()=>{window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var t;this.hasListeners()||(null===(t=this.cleanup)||void 0===t||t.call(this),this.cleanup=void 0)}setEventListener(t){var e;this.setup=t,null===(e=this.cleanup)||void 0===e||e.call(this),this.cleanup=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.focused=t,t&&this.onFocus()}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}};const $=new class extends e{constructor(){super(),this.setup=t=>{if(!s&&(null===window||void 0===window?void 0:window.addEventListener)){const e=()=>t();return window.addEventListener("online",e,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var t;this.hasListeners()||(null===(t=this.cleanup)||void 0===t||t.call(this),this.cleanup=void 0)}setEventListener(t){var e;this.setup=t,null===(e=this.cleanup)||void 0===e||e.call(this),this.cleanup=t(t=>{"boolean"==typeof t?this.setOnline(t):this.onOnline()})}setOnline(t){this.online=t,t&&this.onOnline()}onOnline(){this.listeners.forEach(t=>{t()})}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function R(t){return Math.min(1e3*2**t,3e4)}function Q(t){return"function"==typeof(null==t?void 0:t.cancel)}class P{constructor(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}}function j(t){return t instanceof P}class w{constructor(t){let e,s,i,n,r=!1;this.abort=t.abort,this.cancel=t=>null==e?void 0:e(t),this.cancelRetry=()=>{r=!0},this.continueRetry=()=>{r=!1},this.continue=()=>null==s?void 0:s(),this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((t,e)=>{i=t,n=e});const o=e=>{var n;this.isResolved||(this.isResolved=!0,null===(n=t.onSuccess)||void 0===n||n.call(t,e),null==s||s(),i(e))},u=e=>{var i;this.isResolved||(this.isResolved=!0,null===(i=t.onError)||void 0===i||i.call(t,e),null==s||s(),n(e))},a=()=>new Promise(e=>{var i;s=e,this.isPaused=!0,null===(i=t.onPause)||void 0===i||i.call(t)}).then(()=>{var e;s=void 0,this.isPaused=!1,null===(e=t.onContinue)||void 0===e||e.call(t)}),c=()=>{if(this.isResolved)return;let s;try{s=t.fn()}catch(t){s=Promise.reject(t)}e=t=>{var e;if(!this.isResolved&&(u(new P(t)),null===(e=this.abort)||void 0===e||e.call(this),Q(s)))try{s.cancel()}catch(t){}},this.isTransportCancelable=Q(s),Promise.resolve(s).then(o).catch(e=>{var s,i,n;if(this.isResolved)return;const o=null!==(s=t.retry)&&void 0!==s?s:3,l=null!==(i=t.retryDelay)&&void 0!==i?i:R,h="function"==typeof l?l(this.failureCount,e):l,d=!0===o||"number"==typeof o&&this.failureCount<o||"function"==typeof o&&o(this.failureCount,e);var f;!r&&d?(this.failureCount++,null===(n=t.onFail)||void 0===n||n.call(t,this.failureCount,e),(f=h,new Promise(t=>{setTimeout(t,f)})).then(()=>{if(!C.isFocused()||!$.isOnline())return a()}).then(()=>{r?u(e):c()})):u(e)})};c()}}const F=new class{constructor(){this.queue=[],this.transactions=0,this.notifyFn=t=>{t()},this.batchNotifyFn=t=>{t()}}batch(t){let e;this.transactions++;try{e=t()}finally{this.transactions--,this.transactions||this.flush()}return e}schedule(t){this.transactions?this.queue.push(t):O(()=>{this.notifyFn(t)})}batchCalls(t){return(...e)=>{this.schedule(()=>{t(...e)})}}flush(){const t=this.queue;this.queue=[],t.length&&O(()=>{this.batchNotifyFn(()=>{t.forEach(t=>{this.notifyFn(t)})})})}setNotifyFunction(t){this.notifyFn=t}setBatchNotifyFunction(t){this.batchNotifyFn=t}};let S=console;function E(){return S}class M{constructor(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}setOptions(t){var e;this.options=Object.assign(Object.assign({},this.defaultOptions),t),this.meta=null==t?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,null!==(e=this.options.cacheTime)&&void 0!==e?e:3e5)}setDefaultOptions(t){this.defaultOptions=t}scheduleGc(){this.clearGcTimeout(),n(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}clearGcTimeout(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0}optionalRemove(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))}setData(t,e){var s,i;const n=this.state.data;let r=function(t,e){return"function"==typeof t?t(e):t}(t,n);return(null===(i=(s=this.options).isDataEqual)||void 0===i?void 0:i.call(s,n,r))?r=n:!1!==this.options.structuralSharing&&(r=v(n,r)),this.dispatch({data:r,type:"success",dataUpdatedAt:null==e?void 0:e.updatedAt}),r}setState(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})}cancel(t){var e;const s=this.promise;return null===(e=this.retryer)||void 0===e||e.cancel(t),s?s.then(i).catch(i):Promise.resolve()}destroy(){this.clearGcTimeout(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>!1!==t.options.enabled)}isFetching(){return this.state.isFetching}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!u(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find(t=>t.shouldFetchOnWindowFocus());e&&e.refetch(),null===(t=this.retryer)||void 0===t||t.continue()}onOnline(){var t;const e=this.observers.find(t=>t.shouldFetchOnReconnect());e&&e.refetch(),null===(t=this.retryer)||void 0===t||t.continue()}addObserver(t){-1===this.observers.indexOf(t)&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){-1!==this.observers.indexOf(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,e){var s,i,n,o,u,a;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==e?void 0:e.cancelRefetch))this.cancel({silent:!0});else if(this.promise)return null===(s=this.retryer)||void 0===s||s.continueRetry(),this.promise;if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}const c=r(this.queryKey),l=q(),h={queryKey:c,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(l)return this.abortSignalConsumed=!0,l.signal}});const d={fetchOptions:e,options:this.options,queryKey:c,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(h)):Promise.reject("Missing queryFn"),meta:this.meta};return(null===(i=this.options.behavior)||void 0===i?void 0:i.onFetch)&&(null===(n=this.options.behavior)||void 0===n||n.onFetch(d)),this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null===(o=d.fetchOptions)||void 0===o?void 0:o.meta)||this.dispatch({type:"fetch",meta:null===(u=d.fetchOptions)||void 0===u?void 0:u.meta}),this.retryer=new w({fn:d.fetchFn,abort:null===(a=null==l?void 0:l.abort)||void 0===a?void 0:a.bind(l),onSuccess:t=>{var e,s;this.setData(t),null===(s=(e=this.cache.config).onSuccess)||void 0===s||s.call(e,t,this),0===this.cacheTime&&this.optionalRemove()},onError:t=>{var e,s;j(t)&&t.silent||this.dispatch({type:"error",error:t}),j(t)||(null===(s=(e=this.cache.config).onError)||void 0===s||s.call(e,t,this),E().error(t)),0===this.cacheTime&&this.optionalRemove()},onFail:()=>{this.dispatch({type:"failed"})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay}),this.promise=this.retryer.promise,this.promise}dispatch(t){this.state=this.reducer(this.state,t),F.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate(t)}),this.cache.notify({query:this,type:"queryUpdated",action:t})})}getDefaultState(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,s=void 0!==t.initialData?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,i=void 0!==e;return{data:e,dataUpdateCount:0,dataUpdatedAt:i?null!=s?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:i?"success":"idle"}}reducer(t,e){var s,i;switch(e.type){case"failed":return Object.assign(Object.assign({},t),{fetchFailureCount:t.fetchFailureCount+1});case"pause":return Object.assign(Object.assign({},t),{isPaused:!0});case"continue":return Object.assign(Object.assign({},t),{isPaused:!1});case"fetch":return Object.assign(Object.assign(Object.assign({},t),{fetchFailureCount:0,fetchMeta:null!==(s=e.meta)&&void 0!==s?s:null,isFetching:!0,isPaused:!1}),!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Object.assign(Object.assign({},t),{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!==(i=e.dataUpdatedAt)&&void 0!==i?i:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":const n=e.error;return j(n)&&n.revert&&this.revertState?Object.assign({},this.revertState):Object.assign(Object.assign({},t),{error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Object.assign(Object.assign({},t),{isInvalidated:!0});case"setState":return Object.assign(Object.assign({},t),e.state);default:return t}}}class x extends e{constructor(t,e){super(),this.client=t,this.options=e,this.trackedProps=[],this.previousSelectError=null,this.bindMethods(),this.setOptions(e)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.length&&(this.currentQuery.addObserver(this),A(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return t=this.currentQuery,!1!==(e=this.options).enabled&&("always"===e.refetchOnReconnect||!1!==e.refetchOnReconnect&&I(t,e));var t,e}shouldFetchOnWindowFocus(){return t=this.currentQuery,!1!==(e=this.options).enabled&&("always"===e.refetchOnWindowFocus||!1!==e.refetchOnWindowFocus&&I(t,e));var t,e}destroy(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)}setOptions(t,e){const s=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();const n=this.hasListeners();n&&D(this.currentQuery,i,this.options,s)&&this.executeFetch(),this.updateResult(e),!n||this.currentQuery===i&&this.options.enabled===s.enabled&&this.options.staleTime===s.staleTime||this.updateStaleTimeout();const r=this.computeRefetchInterval();!n||this.currentQuery===i&&this.options.enabled===s.enabled&&r===this.currentRefetchInterval||this.updateRefetchInterval(r)}updateOptions(t,e){const s=Object.assign(Object.assign({},this.options),t);t.queryKey&&!t.queryHash&&t.queryKey!==this.options.queryKey&&(s.queryHash=f(t.queryKey,s)),this.setOptions(s,e)}getOptimisticResult(t){const e=this.client.defaultQueryObserverOptions(t),s=this.client.getQueryCache().build(this.client,e);return this.createResult(s,e)}getCurrentResult(){return this.currentResult}trackResult(t,e){const s={},i=t=>{this.trackedProps.includes(t)||this.trackedProps.push(t)};return Object.keys(t).forEach(e=>{Object.defineProperty(s,e,{configurable:!1,enumerable:!0,get:()=>(i(e),t[e])})}),(e.useErrorBoundary||e.suspense)&&i("error"),s}getNextResult(t){return new Promise((e,s)=>{const i=this.subscribe(n=>{n.isFetching||(i(),n.isError&&(null==t?void 0:t.throwOnError)?s(n.error):e(n))})})}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch(t){return this.fetch(Object.assign(Object.assign({},t),{meta:{refetchPage:null==t?void 0:t.refetchPage}}))}fetchOptimistic(t){const e=this.client.defaultQueryObserverOptions(t),s=this.client.getQueryCache().build(this.client,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.executeFetch(t).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let e=this.currentQuery.fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(e=e.catch(i)),e}updateStaleTimeout(){if(this.clearStaleTimeout(),s||this.currentResult.isStale||!n(this.options.staleTime))return;const t=u(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},t)}computeRefetchInterval(){var t;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!==(t=this.options.refetchInterval)&&void 0!==t&&t}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!s&&!1!==this.options.enabled&&n(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||C.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearTimers(){this.clearStaleTimeout(),this.clearRefetchInterval()}clearStaleTimeout(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0}clearRefetchInterval(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0}createResult(t,e){var s;const i=this.currentQuery,n=this.options,r=this.currentResult,o=this.currentResultState,u=this.currentResultOptions,a=t!==i,c=a?t.state:this.currentQueryInitialState,l=a?this.currentResult:this.previousQueryResult,{state:h}=t;let d,{dataUpdatedAt:f,error:p,errorUpdatedAt:y,isFetching:b,status:g}=h,m=!1,O=!1;if(e.optimisticResults){const s=this.hasListeners(),r=!s&&A(t,e),o=s&&D(t,i,e,n);(r||o)&&(b=!0,f||(g="loading"))}if(e.keepPreviousData&&!h.dataUpdateCount&&(null==l?void 0:l.isSuccess)&&"error"!==g)d=l.data,f=l.dataUpdatedAt,g=l.status,m=!0;else if(e.select&&void 0!==h.data)if(r&&h.data===(null==o?void 0:o.data)&&e.select===(null===(s=this.previousSelect)||void 0===s?void 0:s.fn)&&!this.previousSelectError)d=this.previousSelect.result;else try{d=e.select(h.data),!1!==e.structuralSharing&&(d=v(null==r?void 0:r.data,d)),this.previousSelect={fn:e.select,result:d},this.previousSelectError=null}catch(t){E().error(t),p=t,this.previousSelectError=t,y=Date.now(),g="error"}else d=h.data;if(void 0!==e.placeholderData&&void 0===d&&("loading"===g||"idle"===g)){let t;if((null==r?void 0:r.isPlaceholderData)&&e.placeholderData===(null==u?void 0:u.placeholderData))t=r.data;else if(t="function"==typeof e.placeholderData?e.placeholderData():e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),!1!==e.structuralSharing&&(t=v(null==r?void 0:r.data,t)),this.previousSelectError=null}catch(t){E().error(t),p=t,this.previousSelectError=t,y=Date.now(),g="error"}void 0!==t&&(g="success",d=t,O=!0)}return{status:g,isLoading:"loading"===g,isSuccess:"success"===g,isError:"error"===g,isIdle:"idle"===g,data:d,dataUpdatedAt:f,error:p,errorUpdatedAt:y,failureCount:h.fetchFailureCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&"loading"!==g,isLoadingError:"error"===g&&0===h.dataUpdatedAt,isPlaceholderData:O,isPreviousData:m,isRefetchError:"error"===g&&0!==h.dataUpdatedAt,isStale:I(t,e),refetch:this.refetch,remove:this.remove}}shouldNotifyListeners(t,e){if(!e)return!0;const{notifyOnChangeProps:s,notifyOnChangePropsExclusions:i}=this.options;if(!s&&!i)return!0;if("tracked"===s&&!this.trackedProps.length)return!0;const n="tracked"===s?this.trackedProps:s;return Object.keys(t).some(s=>{const r=s,o=t[r]!==e[r],u=null==n?void 0:n.some(t=>t===s),a=null==i?void 0:i.some(t=>t===s);return o&&!a&&(!n||u)})}updateResult(t){const e=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,function(t,e){if(t&&!e||e&&!t)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}(this.currentResult,e))return;const s={cache:!0};!1!==(null==t?void 0:t.listeners)&&this.shouldNotifyListeners(this.currentResult,e)&&(s.listeners=!0),this.notify(Object.assign(Object.assign({},s),t))}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==e||e.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const e={};"success"===t.type?e.onSuccess=!0:"error"!==t.type||j(t.error)||(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()}notify(t){F.batch(()=>{var e,s,i,n,r,o,u,a;t.onSuccess?(null===(s=(e=this.options).onSuccess)||void 0===s||s.call(e,this.currentResult.data),null===(n=(i=this.options).onSettled)||void 0===n||n.call(i,this.currentResult.data,null)):t.onError&&(null===(o=(r=this.options).onError)||void 0===o||o.call(r,this.currentResult.error),null===(a=(u=this.options).onSettled)||void 0===a||a.call(u,void 0,this.currentResult.error)),t.listeners&&this.listeners.forEach(t=>{t(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function A(t,e){return function(t,e){return!(!1===e.enabled||t.state.dataUpdatedAt||"error"===t.state.status&&!1===e.retryOnMount)}(t,e)||function(t,e){return!1!==e.enabled&&t.state.dataUpdatedAt>0&&("always"===e.refetchOnMount||!1!==e.refetchOnMount&&I(t,e))}(t,e)}function D(t,e,s,i){return!1!==s.enabled&&(t!==e||!1===i.enabled)&&(!s.suspense||"error"!==t.state.status)&&I(t,s)}function I(t,e){return t.isStaleByTime(e.staleTime)}class U extends e{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,e,s){var i;const n=e.queryKey,r=null!==(i=e.queryHash)&&void 0!==i?i:f(n,e);let o=this.get(r);return o||(o=new M({cache:this,queryKey:n,queryHash:r,options:t.defaultQueryOptions(e),state:s,defaultOptions:t.getQueryDefaults(n),meta:e.meta}),this.add(o)),o}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"queryAdded",query:t}))}remove(t){const e=this.queriesMap[t.queryHash];e&&(t.destroy(),this.queries=this.queries.filter(e=>e!==t),e===t&&delete this.queriesMap[t.queryHash],this.notify({type:"queryRemoved",query:t}))}clear(){F.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,e){const[s]=l(t,e);return void 0===s.exact&&(s.exact=!0),this.queries.find(t=>h(s,t))}findAll(t,e){const[s]=l(t,e);return Object.keys(s).length>0?this.queries.filter(t=>h(s,t)):this.queries}notify(t){F.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){F.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){F.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class K{constructor(t){this.options=Object.assign(Object.assign({},t.defaultOptions),t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||T(),this.meta=t.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){-1===this.observers.indexOf(t)&&this.observers.push(t)}removeObserver(t){this.observers=this.observers.filter(e=>e!==t)}cancel(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(i).catch(i)):Promise.resolve()}continue(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()}execute(){let t;const e="loading"===this.state.status;let s=Promise.resolve();return e||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(()=>{var t,e;null===(e=(t=this.mutationCache.config).onMutate)||void 0===e||e.call(t,this.state.variables,this)}).then(()=>{var t,e;return null===(e=(t=this.options).onMutate)||void 0===e?void 0:e.call(t,this.state.variables)}).then(t=>{t!==this.state.context&&this.dispatch({type:"loading",context:t,variables:this.state.variables})})),s.then(()=>this.executeMutation()).then(e=>{var s,i;t=e,null===(i=(s=this.mutationCache.config).onSuccess)||void 0===i||i.call(s,t,this.state.variables,this.state.context,this)}).then(()=>{var e,s;return null===(s=(e=this.options).onSuccess)||void 0===s?void 0:s.call(e,t,this.state.variables,this.state.context)}).then(()=>{var e,s;return null===(s=(e=this.options).onSettled)||void 0===s?void 0:s.call(e,t,null,this.state.variables,this.state.context)}).then(()=>(this.dispatch({type:"success",data:t}),t)).catch(t=>{var e,s;return null===(s=(e=this.mutationCache.config).onError)||void 0===s||s.call(e,t,this.state.variables,this.state.context,this),E().error(t),Promise.resolve().then(()=>{var e,s;return null===(s=(e=this.options).onError)||void 0===s?void 0:s.call(e,t,this.state.variables,this.state.context)}).then(()=>{var e,s;return null===(s=(e=this.options).onSettled)||void 0===s?void 0:s.call(e,void 0,t,this.state.variables,this.state.context)}).then(()=>{throw this.dispatch({type:"error",error:t}),t})})}executeMutation(){var t;return this.retryer=new w({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:()=>{this.dispatch({type:"failed"})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!==(t=this.options.retry)&&void 0!==t?t:0,retryDelay:this.options.retryDelay}),this.retryer.promise}dispatch(t){this.state=function(t,e){switch(e.type){case"failed":return Object.assign(Object.assign({},t),{failureCount:t.failureCount+1});case"pause":return Object.assign(Object.assign({},t),{isPaused:!0});case"continue":return Object.assign(Object.assign({},t),{isPaused:!1});case"loading":return Object.assign(Object.assign({},t),{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Object.assign(Object.assign({},t),{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Object.assign(Object.assign({},t),{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Object.assign(Object.assign({},t),e.state);default:return t}}(this.state,t),F.batch(()=>{this.observers.forEach(e=>{e.onMutationUpdate(t)}),this.mutationCache.notify(this)})}}function T(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}class L extends e{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,e,s){const i=new K({mutationCache:this,mutationId:++this.mutationId,options:t.defaultMutationOptions(e),state:s,defaultOptions:e.mutationKey?t.getMutationDefaults(e.mutationKey):void 0,meta:e.meta});return this.add(i),i}add(t){this.mutations.push(t),this.notify(t)}remove(t){this.mutations=this.mutations.filter(e=>e!==t),t.cancel(),this.notify(t)}clear(){F.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find(e=>d(t,e))}findAll(t){return this.mutations.filter(e=>d(t,e))}notify(t){F.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){this.resumePausedMutations()}onOnline(){this.resumePausedMutations()}resumePausedMutations(){const t=this.mutations.filter(t=>t.state.isPaused);return F.batch(()=>t.reduce((t,e)=>t.then(()=>e.continue().catch(i)),Promise.resolve()))}}function _(){return{onFetch:t=>{t.fetchFn=()=>{var e,s,i,n,r,o;const u=null===(s=null===(e=t.fetchOptions)||void 0===e?void 0:e.meta)||void 0===s?void 0:s.refetchPage,a=null===(n=null===(i=t.fetchOptions)||void 0===i?void 0:i.meta)||void 0===n?void 0:n.fetchMore,c=null==a?void 0:a.pageParam,l="forward"===(null==a?void 0:a.direction),h="backward"===(null==a?void 0:a.direction),d=(null===(r=t.state.data)||void 0===r?void 0:r.pages)||[],f=(null===(o=t.state.data)||void 0===o?void 0:o.pageParams)||[],p=q(),y=null==p?void 0:p.signal;let v=f,b=!1;const g=t.options.queryFn||(()=>Promise.reject("Missing queryFn")),m=(t,e,s,i)=>(v=i?[e,...v]:[...v,e],i?[s,...t]:[...t,s]),O=(e,s,i,n)=>{if(b)return Promise.reject("Cancelled");if(void 0===i&&!s&&e.length)return Promise.resolve(e);const r={queryKey:t.queryKey,signal:y,pageParam:i,meta:t.meta},o=g(r),u=Promise.resolve(o).then(t=>m(e,i,t,n));if(Q(o)){u.cancel=o.cancel}return u};let C;if(d.length)if(l){const e=void 0!==c,s=e?c:H(t.options,d);C=O(d,e,s)}else if(h){const e=void 0!==c,s=e?c:k(t.options,d);C=O(d,e,s,!0)}else{v=[];const e=void 0===t.options.getNextPageParam,s=!u||!d[0]||u(d[0],0,d);C=s?O([],e,f[0]):Promise.resolve(m([],f[0],d[0]));for(let s=1;s<d.length;s++)C=C.then(i=>{if(!u||!d[s]||u(d[s],s,d)){const n=e?f[s]:H(t.options,i);return O(i,e,n)}return Promise.resolve(m(i,f[s],d[s]))})}else C=O([]);const $=C.then(t=>({pages:t,pageParams:v}));return $.cancel=()=>{b=!0,null==p||p.abort(),Q(C)&&C.cancel()},$}}}}function H(t,e){var s;return null===(s=t.getNextPageParam)||void 0===s?void 0:s.call(t,e[e.length-1],e)}function k(t,e){var s;return null===(s=t.getPreviousPageParam)||void 0===s?void 0:s.call(t,e[0],e)}function N(t,e){if(t.getNextPageParam&&Array.isArray(e)){const s=H(t,e);return null!=s&&!1!==s}}function G(t,e){if(t.getPreviousPageParam&&Array.isArray(e)){const s=k(t,e);return null!=s&&!1!==s}}class B{constructor(t={}){this.queryCache=t.queryCache||new U,this.mutationCache=t.mutationCache||new L,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}mount(){this.unsubscribeFocus=C.subscribe(()=>{C.isFocused()&&$.isOnline()&&(this.mutationCache.onFocus(),this.queryCache.onFocus())}),this.unsubscribeOnline=$.subscribe(()=>{C.isFocused()&&$.isOnline()&&(this.mutationCache.onOnline(),this.queryCache.onOnline())})}unmount(){var t,e;null===(t=this.unsubscribeFocus)||void 0===t||t.call(this),null===(e=this.unsubscribeOnline)||void 0===e||e.call(this)}isFetching(t,e){const[s]=l(t,e);return s.fetching=!0,this.queryCache.findAll(s).length}isMutating(t){return this.mutationCache.findAll(Object.assign(Object.assign({},t),{fetching:!0})).length}getQueryData(t,e){var s;return null===(s=this.queryCache.find(t,e))||void 0===s?void 0:s.state.data}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,s){const i=a(t),n=this.defaultQueryOptions(i);return this.queryCache.build(this,n).setData(e,s)}setQueriesData(t,e,s){return F.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,s)]))}getQueryState(t,e){var s;return null===(s=this.queryCache.find(t,e))||void 0===s?void 0:s.state}removeQueries(t,e){const[s]=l(t,e),i=this.queryCache;F.batch(()=>{i.findAll(s).forEach(t=>{i.remove(t)})})}resetQueries(t,e,s){const[i,n]=l(t,e,s),r=this.queryCache,o=Object.assign(Object.assign({},i),{active:!0});return F.batch(()=>(r.findAll(i).forEach(t=>{t.reset()}),this.refetchQueries(o,n)))}cancelQueries(t,e,s){const[n,r={}]=l(t,e,s);void 0===r.revert&&(r.revert=!0);const o=F.batch(()=>this.queryCache.findAll(n).map(t=>t.cancel(r)));return Promise.all(o).then(i).catch(i)}invalidateQueries(t,e,s){var i,n,r;const[o,u]=l(t,e,s),a=Object.assign(Object.assign({},o),{active:null===(n=null!==(i=o.refetchActive)&&void 0!==i?i:o.active)||void 0===n||n,inactive:null!==(r=o.refetchInactive)&&void 0!==r&&r});return F.batch(()=>(this.queryCache.findAll(o).forEach(t=>{t.invalidate()}),this.refetchQueries(a,u)))}refetchQueries(t,e,s){const[n,r]=l(t,e,s),o=F.batch(()=>this.queryCache.findAll(n).map(t=>t.fetch(void 0,Object.assign(Object.assign({},r),{meta:{refetchPage:null==n?void 0:n.refetchPage}}))));let u=Promise.all(o).then(i);return(null==r?void 0:r.throwOnError)||(u=u.catch(i)),u}fetchQuery(t,e,s){const i=a(t,e,s),n=this.defaultQueryOptions(i);void 0===n.retry&&(n.retry=!1);const r=this.queryCache.build(this,n);return r.isStaleByTime(n.staleTime)?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(t,e,s){return this.fetchQuery(t,e,s).then(i).catch(i)}fetchInfiniteQuery(t,e,s){const i=a(t,e,s);return i.behavior=_(),this.fetchQuery(i)}prefetchInfiniteQuery(t,e,s){return this.fetchInfiniteQuery(t,e,s).then(i).catch(i)}cancelMutations(){const t=F.batch(()=>this.mutationCache.getAll().map(t=>t.cancel()));return Promise.all(t).then(i).catch(i)}resumePausedMutations(){return this.getMutationCache().resumePausedMutations()}executeMutation(t){return this.mutationCache.build(this,t).execute()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,e){const s=this.queryDefaults.find(e=>p(t)===p(e.queryKey));s?s.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})}getQueryDefaults(t){var e;return t?null===(e=this.queryDefaults.find(e=>y(t,e.queryKey)))||void 0===e?void 0:e.defaultOptions:void 0}setMutationDefaults(t,e){const s=this.mutationDefaults.find(e=>p(t)===p(e.mutationKey));s?s.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})}getMutationDefaults(t){var e;return t?null===(e=this.mutationDefaults.find(e=>y(t,e.mutationKey)))||void 0===e?void 0:e.defaultOptions:void 0}defaultQueryOptions(t){if(null==t?void 0:t._defaulted)return t;const e=Object.assign(Object.assign(Object.assign(Object.assign({},this.defaultOptions.queries),this.getQueryDefaults(null==t?void 0:t.queryKey)),t),{_defaulted:!0});return!e.queryHash&&e.queryKey&&(e.queryHash=f(e.queryKey,e)),e}defaultQueryObserverOptions(t){return this.defaultQueryOptions(t)}defaultMutationOptions(t){return(null==t?void 0:t._defaulted)?t:Object.assign(Object.assign(Object.assign(Object.assign({},this.defaultOptions.mutations),this.getMutationDefaults(null==t?void 0:t.mutationKey)),t),{_defaulted:!0})}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class W extends e{constructor(t,e){super(),this.client=t,this.queries=[],this.result=[],this.observers=[],this.observersMap={},e&&this.setQueries(e)}onSubscribe(){1===this.listeners.length&&this.observers.forEach(t=>{t.subscribe(e=>{this.onUpdate(t,e)})})}onUnsubscribe(){this.listeners.length||this.destroy()}destroy(){this.listeners=[],this.observers.forEach(t=>{t.destroy()})}setQueries(t,e){this.queries=t,this.updateObservers(e)}getCurrentResult(){return this.result}getOptimisticResult(t){return this.findMatchingObservers(t).map(t=>t.observer.getOptimisticResult(t.defaultedQueryOptions))}findMatchingObservers(t){const e=this.observers,s=t.map(t=>this.client.defaultQueryObserverOptions(t)),i=s.flatMap(t=>{const s=e.find(e=>e.options.queryHash===t.queryHash);return null!=s?[{defaultedQueryOptions:t,observer:s}]:[]}),n=i.map(t=>t.defaultedQueryOptions.queryHash),r=s.filter(t=>!n.includes(t.queryHash)),o=e.filter(t=>!i.some(e=>e.observer===t)),u=r.map((t,e)=>{if(t.keepPreviousData){const s=o[e];if(void 0!==s)return{defaultedQueryOptions:t,observer:s}}return{defaultedQueryOptions:t,observer:this.getObserver(t)}});return i.concat(u).sort((t,e)=>s.indexOf(t.defaultedQueryOptions)-s.indexOf(e.defaultedQueryOptions))}getObserver(t){const e=this.client.defaultQueryObserverOptions(t),s=this.observersMap[e.queryHash];return null!=s?s:new x(this.client,e)}updateObservers(t){F.batch(()=>{const e=this.observers,s=this.findMatchingObservers(this.queries);s.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,t));const i=s.map(t=>t.observer),n=Object.fromEntries(i.map(t=>[t.options.queryHash,t])),r=i.map(t=>t.getCurrentResult()),u=i.some((t,s)=>t!==e[s]);(e.length!==i.length||u)&&(this.observers=i,this.observersMap=n,this.result=r,this.hasListeners()&&(o(e,i).forEach(t=>{t.destroy()}),o(i,e).forEach(t=>{t.subscribe(e=>{this.onUpdate(t,e)})}),this.notify()))})}onUpdate(t,e){const s=this.observers.indexOf(t);-1!==s&&(this.result=function(t,e,s){const i=t.slice(0);return i[e]=s,i}(this.result,s,e),this.notify())}notify(){F.batch(()=>{this.listeners.forEach(t=>{t(this.result)})})}}class z extends x{constructor(t,e){super(t,e)}subscribe(t){return super.subscribe(t)}getCurrentResult(){return super.getCurrentResult()}fetch(t){return super.fetch(t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions(Object.assign(Object.assign({},t),{behavior:_()}),e)}getOptimisticResult(t){return t.behavior=_(),super.getOptimisticResult(t)}fetchNextPage(t){var e;return this.fetch({cancelRefetch:null===(e=null==t?void 0:t.cancelRefetch)||void 0===e||e,throwOnError:null==t?void 0:t.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:null==t?void 0:t.pageParam}}})}fetchPreviousPage(t){var e;return this.fetch({cancelRefetch:null===(e=null==t?void 0:t.cancelRefetch)||void 0===e||e,throwOnError:null==t?void 0:t.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:null==t?void 0:t.pageParam}}})}createResult(t,e){var s,i,n,r,o,u;const{state:a}=t,c=super.createResult(t,e);return Object.assign(Object.assign({},c),{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:N(e,null===(s=a.data)||void 0===s?void 0:s.pages),hasPreviousPage:G(e,null===(i=a.data)||void 0===i?void 0:i.pages),isFetchingNextPage:a.isFetching&&"forward"===(null===(r=null===(n=a.fetchMeta)||void 0===n?void 0:n.fetchMore)||void 0===r?void 0:r.direction),isFetchingPreviousPage:a.isFetching&&"backward"===(null===(u=null===(o=a.fetchMeta)||void 0===o?void 0:o.fetchMore)||void 0===u?void 0:u.direction)})}}class J extends e{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){this.options=this.client.defaultMutationOptions(t)}onUnsubscribe(){var t;this.listeners.length||null===(t=this.currentMutation)||void 0===t||t.removeObserver(this)}onMutationUpdate(t){this.updateResult();const e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Object.assign(Object.assign({},this.options),{variables:void 0!==t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},e=Object.assign(Object.assign({},t),{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset});this.currentResult=e}notify(t){F.batch(()=>{var e,s,i,n,r,o,u,a;this.mutateOptions&&(t.onSuccess?(null===(s=(e=this.mutateOptions).onSuccess)||void 0===s||s.call(e,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null===(n=(i=this.mutateOptions).onSettled)||void 0===n||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):t.onError&&(null===(o=(r=this.mutateOptions).onError)||void 0===o||o.call(r,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null===(a=(u=this.mutateOptions).onSettled)||void 0===a||a.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))),t.listeners&&this.listeners.forEach(t=>{t(this.currentResult)})})}}function V(t){return t.state.isPaused}function Y(t){return"success"===t.state.status}function X(t,e){const s=[],i=[];if(!1!==(null==(e=e||{})?void 0:e.dehydrateMutations)){const i=e.shouldDehydrateMutation||V;t.getMutationCache().getAll().forEach(t=>{i(t)&&s.push(function(t){return{mutationKey:t.options.mutationKey,state:t.state}}(t))})}if(!1!==(null==e?void 0:e.dehydrateQueries)){const s=e.shouldDehydrateQuery||Y;t.getQueryCache().getAll().forEach(t=>{s(t)&&i.push(function(t){return{state:t.state,queryKey:t.queryKey,queryHash:t.queryHash}}(t))})}return{mutations:s,queries:i}}function Z(t,e,s){if("object"!=typeof e||null===e)return;const i=t.getMutationCache(),n=t.getQueryCache(),r=e.mutations||[],o=e.queries||[];r.forEach(e=>{var n;i.build(t,Object.assign(Object.assign({},null===(n=null==s?void 0:s.defaultOptions)||void 0===n?void 0:n.mutations),{mutationKey:e.mutationKey}),e.state)}),o.forEach(e=>{var i;const r=n.get(e.queryHash);r?r.state.dataUpdatedAt<e.state.dataUpdatedAt&&r.setState(e.state):n.build(t,Object.assign(Object.assign({},null===(i=null==s?void 0:s.defaultOptions)||void 0===i?void 0:i.queries),{queryKey:e.queryKey,queryHash:e.queryHash}),e.state)})}function tt(t,e=100){let s,i=null;return function(...n){s=n,null===i&&(i=setTimeout(()=>{t(...s),i=null},e))}}function et(t,{interval:e=1e3,limit:s=1}={}){if("function"!=typeof t)throw new Error("argument is not function.");const i={current:!1};let n,r=0;const o=[];return(...u)=>(async()=>{if(i.current&&(r=Date.now(),o.length>s&&o.shift(),o.push(u),clearTimeout(n)),Date.now()-r>e)i.current=!0,await t(...u),r=Date.now(),i.current=!1;else if(o.length>0){const s=o[o.length-1];n=setTimeout(async()=>{i.current||(i.current=!0,await t(...s),i.current=!1)},e)}})()}function st(){}function it(t){return t()}function nt(){return Object.create(null)}function rt(t){t.forEach(it)}function ot(t){return"function"==typeof t}function ut(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function at(t,...e){if(null==t)return st;const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function ct(t,e,s){t.$$.on_destroy.push(at(e,s))}function lt(t,e,s,i){if(t){const n=ht(t,e,s,i);return t[0](n)}}function ht(t,e,s,i){return t[1]&&i?function(t,e){for(const s in e)t[s]=e[s];return t}(s.ctx.slice(),t[1](i(e))):s.ctx}function dt(t,e,s,i,n,r,o){const u=function(t,e,s,i){if(t[2]&&i){const n=t[2](i(s));if(void 0===e.dirty)return n;if("object"==typeof n){const t=[],s=Math.max(e.dirty.length,n.length);for(let i=0;i<s;i+=1)t[i]=e.dirty[i]|n[i];return t}return e.dirty|n}return e.dirty}(e,i,n,r);if(u){const n=ht(e,s,i,o);t.p(n,u)}}function ft(t){t.parentNode.removeChild(t)}let pt;function yt(t){pt=t}function vt(){if(!pt)throw new Error("Function called outside component initialization");return pt}function bt(t){vt().$$.on_mount.push(t)}const gt=[],mt=[],Ot=[],qt=[],Ct=Promise.resolve();let $t=!1;function Rt(t){Ot.push(t)}let Qt=!1;const Pt=new Set;function jt(){if(!Qt){Qt=!0;do{for(let t=0;t<gt.length;t+=1){const e=gt[t];yt(e),wt(e.$$)}for(yt(null),gt.length=0;mt.length;)mt.pop()();for(let t=0;t<Ot.length;t+=1){const e=Ot[t];Pt.has(e)||(Pt.add(e),e())}Ot.length=0}while(gt.length);for(;qt.length;)qt.pop()();$t=!1,Qt=!1,Pt.clear()}}function wt(t){if(null!==t.fragment){t.update(),rt(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Rt)}}const Ft=new Set;function St(t,e){t&&t.i&&(Ft.delete(t),t.i(e))}function Et(t,e,s,i){if(t&&t.o){if(Ft.has(t))return;Ft.add(t),(void 0).c.push(()=>{Ft.delete(t),i&&(s&&t.d(1),i())}),t.o(e)}}function Mt(t,e){-1===t.$$.dirty[0]&&(gt.push(t),$t||($t=!0,Ct.then(jt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function xt(t,e,s,i,n,r,o=[-1]){const u=pt;yt(t);const a=e.props||{},c=t.$$={fragment:null,ctx:null,props:r,update:st,not_equal:n,bound:nt(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:nt(),dirty:o,skip_bound:!1};let l=!1;if(c.ctx=s?s(t,a,(e,s,...i)=>{const r=i.length?i[0]:s;return c.ctx&&n(c.ctx[e],c.ctx[e]=r)&&(!c.skip_bound&&c.bound[e]&&c.bound[e](r),l&&Mt(t,e)),s}):[],c.update(),l=!0,rt(c.before_update),c.fragment=!!i&&i(c.ctx),e.target){if(e.hydrate){const t=(h=e.target,Array.from(h.childNodes));c.fragment&&c.fragment.l(t),t.forEach(ft)}else c.fragment&&c.fragment.c();e.intro&&St(t.$$.fragment),function(t,e,s){const{fragment:i,on_mount:n,on_destroy:r,after_update:o}=t.$$;i&&i.m(e,s),Rt(()=>{const e=n.map(it).filter(ot);r?r.push(...e):rt(e),t.$$.on_mount=[]}),o.forEach(Rt)}(t,e.target,e.anchor),jt()}var h;yt(u)}class At{$destroy(){!function(t,e){const s=t.$$;null!==s.fragment&&(rt(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}(this,1),this.$destroy=st}$on(t,e){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(e),()=>{const t=s.indexOf(e);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Dt(t){let e;const s=t[5].default,i=lt(s,t,t[4],null);return{c(){i&&i.c()},m(t,s){i&&i.m(t,s),e=!0},p(t,[e]){i&&i.p&&16&e&&dt(i,s,t,t[4],e,null,null)},i(t){e||(St(i,t),e=!0)},o(t){Et(i,t),e=!1},d(t){i&&i.d(t)}}}function It(t,e,s){let{$$slots:i={},$$scope:n}=e,{queryCache:r=new U}=e,{mutationCache:o=new L}=e,{defaultOptions:u={}}=e,{client:a=new B({queryCache:r,mutationCache:o,defaultOptions:u})}=e;var c,l,h;return bt(()=>{a.mount()}),c="queryClient",l=a,vt().$$.context.set(c,l),h=()=>{a.unmount()},vt().$$.on_destroy.push(h),t.$$set=t=>{"queryCache"in t&&s(0,r=t.queryCache),"mutationCache"in t&&s(1,o=t.mutationCache),"defaultOptions"in t&&s(2,u=t.defaultOptions),"client"in t&&s(3,a=t.client),"$$scope"in t&&s(4,n=t.$$scope)},[r,o,u,a,n,i]}function Ut(){const t=(e="queryClient",vt().$$.context.get(e));var e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t}const Kt=[];function Tt(t,e){return{subscribe:Lt(t,e).subscribe}}function Lt(t,e=st){let s;const i=[];function n(e){if(ut(t,e)&&(t=e,s)){const e=!Kt.length;for(let e=0;e<i.length;e+=1){const s=i[e];s[1](),Kt.push(s,t)}if(e){for(let t=0;t<Kt.length;t+=2)Kt[t][0](Kt[t+1]);Kt.length=0}}}return{set:n,update:function(e){n(e(t))},subscribe:function(r,o=st){const u=[r,o];return i.push(u),1===i.length&&(s=e(n)||st),r(t),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(s(),s=null)}}}}function _t(t){return t.optimisticResults=!0,t.onError&&(t.onError=F.batchCalls(t.onError)),t.onSuccess&&(t.onSuccess=F.batchCalls(t.onSuccess)),t.onSettled&&(t.onSettled=F.batchCalls(t.onSettled)),t}function Ht(t,e,s){const i=a(t,e,s),n=Ut();let r=n.defaultQueryObserverOptions(i);r=_t(r);const o=new x(n,r),{subscribe:u}=Tt(o.getCurrentResult(),t=>o.subscribe(F.batchCalls(t)));function c(t){o.updateOptions(t)}return o.updateResult(),{subscribe:u,setOptions:function(t,e,s){const i=a(t,e,s);let r=n.defaultQueryObserverOptions(i);r=_t(r),o.hasListeners()&&o.setOptions(r,{listeners:!1})},updateOptions:c,setEnabled:function(t){c({enabled:t})}}}const kt=t=>({queryResult:1&t}),Nt=t=>({queryResult:t[0]});function Gt(t){let e;const s=t[6].query,i=lt(s,t,t[5],Nt);return{c(){i&&i.c()},m(t,s){i&&i.m(t,s),e=!0},p(t,[e]){i&&i.p&&33&e&&dt(i,s,t,t[5],e,kt,Nt)},i(t){e||(St(i,t),e=!0)},o(t){Et(i,t),e=!1},d(t){i&&i.d(t)}}}function Bt(t,e,s){let i,{$$slots:n={},$$scope:r}=e,{options:o}=e,{queryResult:u}=e,a=!0;bt(()=>{s(3,a=!1)});const c=Ht(o);return ct(t,c,t=>s(4,i=t)),t.$$set=t=>{"options"in t&&s(2,o=t.options),"queryResult"in t&&s(0,u=t.queryResult),"$$scope"in t&&s(5,r=t.$$scope)},t.$$.update=()=>{16&t.$$.dirty&&s(0,u=i),12&t.$$.dirty&&(a||c.setOptions(o))},[u,c,o,a,i,r,n]}function Wt(t,e,s){const i=a(t,e,s),n=Ut();let r=n.defaultQueryObserverOptions(i);r=_t(r);const o=new z(n,r),{subscribe:u}=Tt(o.getCurrentResult(),t=>o.subscribe(F.batchCalls(t)));function c(t){o.updateOptions(t)}return o.updateResult(),{subscribe:u,setOptions:function(t,e,s){if(o.hasListeners()){const i=a(t,e,s);let r=n.defaultQueryObserverOptions(i);r=_t(r),o.setOptions(r,{listeners:!1})}},updateOptions:c,setEnabled:function(t){c({enabled:t})}}}const zt=t=>({queryResult:1&t}),Jt=t=>({queryResult:t[0]});function Vt(t){let e;const s=t[6].query,i=lt(s,t,t[5],Jt);return{c(){i&&i.c()},m(t,s){i&&i.m(t,s),e=!0},p(t,[e]){i&&i.p&&33&e&&dt(i,s,t,t[5],e,zt,Jt)},i(t){e||(St(i,t),e=!0)},o(t){Et(i,t),e=!1},d(t){i&&i.d(t)}}}function Yt(t,e,s){let i,{$$slots:n={},$$scope:r}=e,{options:o}=e,{queryResult:u}=e,a=!0;bt(()=>{s(3,a=!1)});const c=Wt(o);return ct(t,c,t=>s(4,i=t)),t.$$set=t=>{"options"in t&&s(2,o=t.options),"queryResult"in t&&s(0,u=t.queryResult),"$$scope"in t&&s(5,r=t.$$scope)},t.$$.update=()=>{16&t.$$.dirty&&s(0,u=i),12&t.$$.dirty&&(a||c.setOptions(o))},[u,c,o,a,i,r,n]}function Xt(t){const e=Ut();function s(t){return t.map(t=>{const s=e.defaultQueryObserverOptions(t);return s.optimisticResults=!0,s})}const i=s(t),n=new W(e,i),{subscribe:r}=Tt(n.getCurrentResult(),t=>n.subscribe(F.batchCalls(t)));return{subscribe:r,setQueries:t=>{if(n.hasListeners()){const e=s(t);n.setQueries(e,{listeners:!1})}}}}const Zt=t=>({currentResult:1&t}),te=t=>({currentResult:t[0]});function ee(t){let e;const s=t[6].queries,i=lt(s,t,t[5],te);return{c(){i&&i.c()},m(t,s){i&&i.m(t,s),e=!0},p(t,[e]){i&&i.p&&33&e&&dt(i,s,t,t[5],e,Zt,te)},i(t){e||(St(i,t),e=!0)},o(t){Et(i,t),e=!1},d(t){i&&i.d(t)}}}function se(t,e,s){let i,{$$slots:n={},$$scope:r}=e,{queries:o}=e,{currentResult:u=[]}=e,a=!0;bt(()=>{s(3,a=!1)});const c=Xt(o);return ct(t,c,t=>s(4,i=t)),t.$$set=t=>{"queries"in t&&s(2,o=t.queries),"currentResult"in t&&s(0,u=t.currentResult),"$$scope"in t&&s(5,r=t.$$scope)},t.$$.update=()=>{16&t.$$.dirty&&s(0,u=i),12&t.$$.dirty&&(a||c.setQueries(o))},[u,c,o,a,i,r,n]}function ie(t,e){const[s]=l(t,e),i=Ut(),n=i.getQueryCache();let r=i.isFetching(s);const{subscribe:o}=Tt(r,t=>n.subscribe(F.batchCalls(()=>{const e=i.isFetching(s);r!==e&&(r=e,t(r))})));return{subscribe:o}}const ne=t=>({isFetching:1&t}),re=t=>({isFetching:t[0]});function oe(t){let e;const s=t[5].isFetching,i=lt(s,t,t[4],re);return{c(){i&&i.c()},m(t,s){i&&i.m(t,s),e=!0},p(t,[e]){i&&i.p&&17&e&&dt(i,s,t,t[4],e,ne,re)},i(t){e||(St(i,t),e=!0)},o(t){Et(i,t),e=!1},d(t){i&&i.d(t)}}}function ue(t,e,s){let i,n=st;t.$$.on_destroy.push(()=>n());let r,{$$slots:o={},$$scope:u}=e,{filters:a}=e,{isFetching:c}=e;return t.$$set=t=>{"filters"in t&&s(2,a=t.filters),"isFetching"in t&&s(0,c=t.isFetching),"$$scope"in t&&s(4,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&(s(1,r=ie(a)),n(),n=at(r,t=>s(3,i=t))),8&t.$$.dirty&&s(0,c=i)},[c,r,a,i,u,o]}function ae(t){const e=Ut(),s=e.getMutationCache();let i=e.isMutating(t);const{subscribe:n}=Tt(i,n=>s.subscribe(F.batchCalls(()=>{const s=e.isMutating(t);i!==s&&(i=s,n(i))})));return{subscribe:n}}const ce=t=>({isMutating:1&t}),le=t=>({isMutating:t[0]});function he(t){let e;const s=t[5].isMutating,i=lt(s,t,t[4],le);return{c(){i&&i.c()},m(t,s){i&&i.m(t,s),e=!0},p(t,[e]){i&&i.p&&17&e&&dt(i,s,t,t[4],e,ce,le)},i(t){e||(St(i,t),e=!0)},o(t){Et(i,t),e=!1},d(t){i&&i.d(t)}}}function de(t,e,s){let i,n=st;t.$$.on_destroy.push(()=>n());let r,{$$slots:o={},$$scope:u}=e,{filters:a}=e,{isMutating:c}=e;return t.$$set=t=>{"filters"in t&&s(2,a=t.filters),"isMutating"in t&&s(0,c=t.isMutating),"$$scope"in t&&s(4,u=t.$$scope)},t.$$.update=()=>{4&t.$$.dirty&&(s(1,r=ae(a)),n(),n=at(r,t=>s(3,i=t))),8&t.$$.dirty&&s(0,c=i)},[c,r,a,i,u,o]}function fe(t,e,s){const n=c(t,e,s),r=Ut(),o=new J(r,n),u=(t,e)=>{o.mutate(t,e).catch(i)},a=o.getCurrentResult(),l=Object.assign(Object.assign({},a),{mutate:u,mutateAsync:a.mutate}),{subscribe:h}=Tt(l,t=>o.subscribe(F.batchCalls(e=>{o.hasListeners()&&t(Object.assign(Object.assign({},e),{mutate:u,mutateAsync:e.mutate}))})));return{subscribe:h,setOptions:function(t,e,s){if(o.hasListeners()){const i=c(t,e,s);o.setOptions(i)}}}}const pe=t=>({mutationResult:1&t}),ye=t=>({mutationResult:t[0]});function ve(t){let e;const s=t[7].mutation,i=lt(s,t,t[6],ye);return{c(){i&&i.c()},m(t,s){i&&i.m(t,s),e=!0},p(t,[e]){i&&i.p&&65&e&&dt(i,s,t,t[6],e,pe,ye)},i(t){e||(St(i,t),e=!0)},o(t){Et(i,t),e=!1},d(t){i&&i.d(t)}}}function be(t,e,s){let i,{$$slots:n={},$$scope:r}=e,{mutationFn:o}=e,{options:u}=e,{mutationResult:a}=e,c=!0;bt(()=>{s(4,c=!1)});const l=fe(o,u);return ct(t,l,t=>s(5,i=t)),t.$$set=t=>{"mutationFn"in t&&s(2,o=t.mutationFn),"options"in t&&s(3,u=t.options),"mutationResult"in t&&s(0,a=t.mutationResult),"$$scope"in t&&s(6,r=t.$$scope)},t.$$.update=()=>{32&t.$$.dirty&&s(0,a=i),28&t.$$.dirty&&(c||l.setOptions(o,u))},[a,l,o,u,c,i,r,n]}function ge(t,e){const s=Ut();t&&Z(s,t,e)}function me(t){let e;const s=t[3].default,i=lt(s,t,t[2],null);return{c(){i&&i.c()},m(t,s){i&&i.m(t,s),e=!0},p(t,[e]){i&&i.p&&4&e&&dt(i,s,t,t[2],e,null,null)},i(t){e||(St(i,t),e=!0)},o(t){Et(i,t),e=!1},d(t){i&&i.d(t)}}}function Oe(t,e,s){let{$$slots:i={},$$scope:n}=e,{state:r}=e,{options:o}=e;return ge(r,o),t.$$set=t=>{"state"in t&&s(0,r=t.state),"options"in t&&s(1,o=t.options),"$$scope"in t&&s(2,n=t.$$scope)},[r,o,n,i]}return t.CancelledError=P,t.Hydrate=class extends At{constructor(t){super(),xt(this,t,Oe,me,ut,{state:0,options:1})}},t.InfiniteQuery=class extends At{constructor(t){super(),xt(this,t,Yt,Vt,ut,{options:2,queryResult:0})}},t.InfiniteQueryObserver=z,t.IsFetching=class extends At{constructor(t){super(),xt(this,t,ue,oe,ut,{filters:2,isFetching:0})}},t.IsMutating=class extends At{constructor(t){super(),xt(this,t,de,he,ut,{filters:2,isMutating:0})}},t.Mutation=class extends At{constructor(t){super(),xt(this,t,be,ve,ut,{mutationFn:2,options:3,mutationResult:0})}},t.MutationCache=L,t.MutationObserver=J,t.Queries=class extends At{constructor(t){super(),xt(this,t,se,ee,ut,{queries:2,currentResult:0})}},t.QueriesObserver=W,t.Query=class extends At{constructor(t){super(),xt(this,t,Bt,Gt,ut,{options:2,queryResult:0})}},t.QueryCache=U,t.QueryClient=B,t.QueryClientProvider=class extends At{constructor(t){super(),xt(this,t,It,Dt,ut,{queryCache:0,mutationCache:1,defaultOptions:2,client:3})}},t.QueryObserver=x,t.broadcastQueryClient=async function({queryClient:t,broadcastChannel:e="svelte-query"}){const{BroadcastChannel:s}=await import("broadcast-channel");let i=!1;const n=new s(e,{webWorkerSupport:!1}),r=t.getQueryCache();t.getQueryCache().subscribe(t=>{var e;if(i||!(null==t?void 0:t.query))return;const{query:{queryHash:s,queryKey:r,state:o}}=t;"queryUpdated"===t.type&&"success"===(null===(e=t.action)||void 0===e?void 0:e.type)&&n.postMessage({type:"queryUpdated",queryHash:s,queryKey:r,state:o}),"queryRemoved"===t.type&&n.postMessage({type:"queryRemoved",queryHash:s,queryKey:r})}),n.onmessage=e=>{(null==e?void 0:e.type)&&(i=!0,(()=>{const{type:s,queryHash:i,queryKey:n,state:o}=e;if("queryUpdated"===s){const e=r.get(i);if(e)return void e.setState(o);r.build(t,{queryKey:n,queryHash:i},o)}else if("queryRemoved"===s){const t=r.get(i);t&&r.remove(t)}})(),i=!1)}},t.createAsyncStoragePersistor=({storage:t,key:e="SVELTE_QUERY_OFFLINE_CACHE",throttleTime:s=1e3,serialize:i=JSON.stringify,deserialize:n=JSON.parse})=>({persistClient:et(s=>t.setItem(e,i(s)),{interval:s}),restoreClient:async()=>{const s=await t.getItem(e);if(s)return n(s)},removeClient:()=>t.removeItem(e)}),t.createWebStoragePersistor=function({storage:t,key:e="SVELTE_QUERY_OFFLINE_CACHE",throttleTime:s=1e3,serialize:n=JSON.stringify,deserialize:r=JSON.parse}){function o(s){try{t.setItem(e,n(s))}catch(t){return!1}return!0}return void 0!==t?{persistClient:tt(t=>{if(!0!==o(t)){const e=[...t.clientState.mutations],s=[...t.clientState.queries],i=Object.assign(Object.assign({},t),{clientState:{mutations:e,queries:s}}),n=[...s].sort((t,e)=>t.state.dataUpdatedAt-e.state.dataUpdatedAt);for(;n.length>0;){const t=n.shift();if(i.clientState.queries=s.filter(e=>e!==t),o(i))return}for(;e.shift();)if(o(i))return}},s),restoreClient:()=>{const s=t.getItem(e);if(s)return r(s)},removeClient:()=>{t.removeItem(e)}}:{persistClient:i,restoreClient:i,removeClient:i}},t.dehydrate=X,t.focusManager=C,t.hashQueryKey=p,t.hydrate=Z,t.isCancelledError=j,t.isError=function(t){return t instanceof Error},t.notifyManager=F,t.onlineManager=$,t.persistQueryClient=async function({queryClient:t,persistor:e,maxAge:s=864e5,buster:i="",hydrateOptions:n,dehydrateOptions:r}){if("undefined"!=typeof window){const o=()=>{const s={buster:i,timestamp:Date.now(),clientState:X(t,r)};e.persistClient(s)};try{const r=await e.restoreClient();if(r)if(r.timestamp){const o=Date.now()-r.timestamp>s,u=r.buster!==i;o||u?e.removeClient():Z(t,r.clientState,n)}else e.removeClient()}catch(t){E().error(t),E().warn("Encountered an error attempting to restore client cache from persisted location. As a precaution, the persisted cache will be discarded."),e.removeClient()}t.getQueryCache().subscribe(o)}},t.setLogger=function(t){S=t},t.useHydrate=ge,t.useInfiniteQuery=Wt,t.useIsFetching=ie,t.useIsMutating=ae,t.useMutation=fe,t.useQueries=Xt,t.useQuery=Ht,t.useQueryClient=Ut,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
